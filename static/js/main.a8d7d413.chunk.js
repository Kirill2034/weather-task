(this["webpackJsonpweather-task"]=this["webpackJsonpweather-task"]||[]).push([[0],{19:function(e,t,a){e.exports={Weather:"Weather_Weather__36umG"}},20:function(e,t,a){e.exports={Info:"Info_Info__OYzOc"}},21:function(e,t,a){e.exports={ListCity:"ListCity_ListCity__2COFT"}},22:function(e,t,a){e.exports={Layout:"Layout_Layout__1It-A"}},25:function(e,t,a){e.exports=a(41)},30:function(e,t,a){},32:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),s=(a(30),a(3)),l=a(4),o=a(6),u=a(5),h=a(7),m=a(10),p=a.n(m),f=a(13),d=a(19),y=a.n(d),v=(a(32),function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},r.a.createElement("input",{type:"text",placeholder:"\u0413\u043e\u0440\u043e\u0434",value:this.props.value,onChange:this.props.onChange}),r.a.createElement("button",{onClick:this.props.onClick},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0433\u043e\u0434\u0443"))}}]),t}(r.a.Component)),b=a(20),C=a.n(b),g=function(e){return r.a.createElement("div",{className:C.a.Info},r.a.createElement("p",null,"\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",e.temp," C",r.a.createElement("sup",null,"o")," "),r.a.createElement("p",null,"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",e.humidity,"% "),r.a.createElement("p",null," ",e.rainfall," "),r.a.createElement("i",{className:e.class}))},j=a(21),O=a.n(j),k=function(e){return r.a.createElement("div",{className:O.a.ListCity,onClick:e.onClick},e.children)},E=a(14),w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={infoWeather:!1,value:"",city:null,temp:null,humidity:null,rainfall:null,errorMessage:!1,class:null,listCity:[]},a.onChangeText=function(e){a.setState({value:e.target.value},a.getCitiesHandler)},a.getWeatherHandler=Object(E.debounce)(Object(f.a)(p.a.mark((function e(){var t,n,r,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t={},!a.state.value){e.next=18;break}return e.next=5,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(a.state.value,"&appid=536ed34d2858d4e397f4175a4e5395a6"));case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,i=Math.floor(r.main.temp-273.15),t.temp=i,t.humidity=r.main.humidity,t.infoWeather=!0,t.errorMessage=!1,t.temp>0&&t.humidity>=50?(t.rainfall="\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u043e\u0441\u0430\u0434\u043a\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0434\u043e\u0436\u0434\u044f",t.class="fa fa-tint"):(t.rainfall="\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u044b \u043e\u0441\u0430\u0434\u043a\u0438 \u0432 \u0432\u0438\u0434\u0435 \u0441\u043d\u0435\u0433\u0430",t.class="fa fa-snowflake"),r.name&&(t.city=r.name),e.next=25;break;case 18:t.infoWeather=!1,t.value="",t.city=null,t.temp=null,t.humidity=null,t.rainfall=null,t.errorMessage=!0;case 25:a.setState(t),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])}))),300),a.getCitiesHandler=Object(E.debounce)(Object(f.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==a.state.value){e.next=4;break}a.setState({listCity:[]}),e.next=12;break;case 4:return e.next=6,fetch("https://autocomplete.geocoder.api.here.com/6.2/suggest.json?app_id=8yvRrk4W4aaaD4r6R174&app_code=44jQRPjWC1J4gQBmEPYW4w&query=".concat(a.state.value));case 6:return t=e.sent,e.next=9,t.json();case 9:n=e.sent,r=n.suggestions.map((function(e){return e.address.city})),a.setState({listCity:r});case 12:case"end":return e.stop()}}),e)}))),300),a}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:y.a.Weather},r.a.createElement("h1",null,"\u041f\u043e\u0433\u043e\u0434\u0430 \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043c\u0438\u0440\u0443"),r.a.createElement(v,{onClick:this.getWeatherHandler,getCity:this.getCitiesHandler,value:this.state.value,onChange:this.onChangeText}),this.state.listCity.map((function(t,a){return r.a.createElement(k,{key:a,onClick:function(){return e.setState({value:t,listCity:[]})}},t)})),this.state.errorMessage?r.a.createElement("p",{style:{color:"red"}},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434"):null,this.state.infoWeather&&r.a.createElement(g,{city:this.state.city,temp:this.state.temp,humidity:this.state.humidity,rainfall:this.state.rainfall,class:this.state.class}))}}]),t}(r.a.Component),x=a(22),W=a.n(x),_=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:W.a.Layout},r.a.createElement("main",null,this.props.children))}}]),t}(r.a.Component),L=a(8),I=function(e){function t(){return Object(s.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(_,null,r.a.createElement(L.c,null,r.a.createElement(L.a,{path:"/",component:w}))))}}]),t}(r.a.Component),S=a(12);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(S.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[25,1,2]]]);
//# sourceMappingURL=main.a8d7d413.chunk.js.map